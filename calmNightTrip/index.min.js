const container = document.querySelector(".container"); function spawnStars(e) { for (let t = 0; t < e; t++) { let s = document.createElement("div"); s.classList.add("star"), s.style.top = `${100 * Math.random()}%`, s.style.left = `${100 * Math.random()}%`, s.style.width = `${4 * Math.random() + 2}`, s.style.height = s.style.width; let n = 2 * Math.random(), l = Math.floor(4 * Math.random()) + 1, i = `drift${l}`; if (s.style.animation = `sparkle 3s infinite, ${i} 4s infinite`, s.style.animationDelay = `${n}s`, .25 > Math.random()) { let o = .5 > Math.random() ? "purple" : "orange"; s.classList.add(o) } container.appendChild(s) } } spawnStars(250); var onScreen = !1; document.body.addEventListener("mouseover", e => { onScreen = !0, mouseX = e.clientX, mouseY = e.clientY }), document.body.addEventListener("mouseout", e => { onScreen = !1 }); let mouseX = 0, mouseY = 0, lastMouseMoveTime = 0; const throttleTime = 20; document.body.addEventListener("mousemove", e => { let t = performance.now(); t - lastMouseMoveTime < 20 || (lastMouseMoveTime = t, mouseX = e.clientX, mouseY = e.clientY) }); var keys = [], alreadyUsed = !1; function update() { -1 != keys.indexOf(" ") && spawnStars(1) } document.body.addEventListener("keydown", function (e) { -1 === keys.indexOf(e.key) && keys.push(e.key), alreadyUsed || ("ArrowRight" == e.key && ((selected += 1) >= mice.length && (selected = 0), switchMice(), alreadyUsed = !0), "ArrowLeft" != e.key || ((selected -= 1) < 0 && (selected = mice.length - 1), console.log(selected), switchMice(), alreadyUsed = !0)) }), document.body.addEventListener("keyup", function (e) { let t = keys.indexOf(e.key); -1 !== t && keys.splice(t, 1), keys.includes("ArrowRight") || keys.includes("ArrowLeft") || (alreadyUsed = !1) }), setInterval(() => { update() }, 10); var mice = ["", "Meteor"], selected = 0; function switchMice() { console.log(selected, mice[selected]), document.querySelector("#cursor").className = "cursor" + mice[selected] } document.addEventListener("DOMContentLoaded", function () { let e = document.createElement("div"); e.classList.add("cursor" + mice[selected]), e.id = "cursor", document.body.appendChild(e); let t = []; setInterval(() => { try { document.body.removeChild(t[0]), t.shift() } catch (e) { } }, 200); let s = 0; document.addEventListener("mousemove", function n(l) { var i, o, d, r; let a = performance.now(); if (a - s < 1) return; if (s = a, t.length > 0 && 6 >= (i = l.clientX - 5, o = l.clientY - 5, d = t[t.length - 1].style.left, r = t[t.length - 1].style.top, Math.sqrt(Math.pow(d - i, 2) + Math.pow(r - o, 2)))) return; e.style.left = l.clientX - 5 + "px", e.style.top = l.clientY - 5 + "px"; let c = document.createElement("div"), y = 5; 1 == selected && (y = 6), c.className = "trail" + mice[selected], c.style.left = l.clientX - y + "px", c.style.top = l.clientY - y + "px", document.body.appendChild(c), t.length > 20 && (document.body.removeChild(t[0]), t.shift()), t.push(c) }) });
